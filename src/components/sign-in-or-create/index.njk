{% if mobileContext === true %}
    {% extends "common/layout/mobile/base.njk" %}
{% else %}
    {% extends "common/layout/base.njk" %}
{% endif %}

{% from "govuk/components/button/macro.njk" import govukButton %}

{% if mobileContext === true %}
    {% set pageTitleVariableName = 'pages.signInOrCreate.mandatory.titleMobile' %}
{% else %}
    {% from "govuk/components/inset-text/macro.njk" import govukInsetText %}
    {% set pageTitleVariableName = 'pages.signInOrCreate.mandatory.title' %}
{% endif %}

{% set pageTitleName = pageTitleVariableName | translate %}

{% set moreAboutTextHtml %}
    <p class="govuk-body">{{ 'pages.signInOrCreate.moreAbout.paragraph1' | translate }}</p>
    <p class="govuk-body">{{ 'pages.signInOrCreate.moreAbout.paragraph2' | translate }}</p>
    <p class="govuk-body">{{ 'pages.signInOrCreate.moreAbout.paragraph3' | translate }}</p>
{% endset %}

{% block content %}
    {% include "common/errors/errorSummary.njk" %}

    {% if mobileContext === true %}
        <h1 class="govuk-heading-l govuk-!-margin-top-0 govuk-!-margin-bottom-3">{{ 'pages.signInOrCreate.mandatory.headerMobile' | translate | striptags | safe }} </h1>
        <p class="govuk-body">{{ 'pages.signInOrCreate.paragraph1Mobile' | translate }}</p>
    {% else %}
    <h1 class="govuk-heading-l govuk-!-margin-top-0 govuk-!-margin-bottom-3">{{ 'pages.signInOrCreate.mandatory.header' | translate | striptags | safe }} </h1>
    <p class="govuk-body">{{ 'pages.signInOrCreate.paragraph1' | translate }}</p>

    <p class="govuk-body">{{ 'pages.signInOrCreate.paragraph2' | translate }}</p>

    <p class="govuk-body">{{ 'pages.signInOrCreate.paragraph3' | translate }}</p>
    <ul class="govuk-list govuk-list--bullet">
        <li>{{ 'pages.signInOrCreate.bullet1' | translate }}</li>
        <li>{{ 'pages.signInOrCreate.bullet2' | translate }}</li>
    </ul>

        {% set altLangInsetHtml %}
            {{ 'pages.signInOrCreate.insetAlternativeLanguage.paragraph1' | translate }}
            <a href="{{ 'pages.signInOrCreate.insetAlternativeLanguage.linkHref' | translate }}" class="govuk-link"
               rel="noreferrer">
                {{ 'pages.signInOrCreate.insetAlternativeLanguage.linkText.inPageLanguage' | translate }}
                <span lang="{{ 'pages.signInOrCreate.insetAlternativeLanguage.linkText.destinationLanguageCode' | translate }}">{{ 'pages.signInOrCreate.insetAlternativeLanguage.linkText.inDestinationLanguage' | translate }}</span></a>.
        {% endset %}
        {{ govukInsetText({
            html: altLangInsetHtml
        }) }}
    {% endif %}

    <form action="/sign-in-or-create" method="post" novalidate="novalidate">

        <input type="hidden" name="_csrf" value="{{ csrfToken }}" />
        <input type="hidden" name="supportInternationalNumbers" value="{{ supportInternationalNumbers }}" />

            {% if mobileContext === true %}
                {% set buttonClass = 'govuk-button--primary' %}
            {% else %}
                <div>
                    {{ govukButton({
                        text: 'pages.signInOrCreate.createButtonText' | translate,
                        value: "create",
                        name: "optionSelected",
                        classes: "govuk-!-margin-right-3",
                        attributes: {
                            "id": "create-account-link"
                        }
                    }) }}
                </div>

                {% set buttonClass = 'govuk-button--secondary' %}
            {% endif %}

            {{ govukButton({
                text: 'pages.signInOrCreate.signInText' | translate,
                classes: buttonClass,
                attributes: {
                    "id": "sign-in-button"
                }
            }) }}

    </form>
    {% if not mobileContext %}
        <p class="govuk-body">
            <a href="{{ 'pages.signInOrCreate.aboutLink' | translate }}" class="govuk-link" rel="noreferrer noopener"
               target="_blank">
                {{ 'pages.signInOrCreate.aboutLinkText' | translate }}
            </a>
        </p>
    {% endif %}

    {{ ga4OnPageLoad({ nonce: scriptNonce, statusCode: "200", englishPageTitle: pageTitleName, taxonomyLevel1: "authentication", taxonomyLevel2: "Home", contentId: "9cd55996-3f12-4e79-adf3-0ec3c4faf7ce", loggedInStatus: false, dynamic: true }) }}
{% endblock %}
