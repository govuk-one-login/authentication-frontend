FROM node:22.4.1-alpine3.20@sha256:ba898e86c2cc720c8cf2ae05f8d2d4697fe0c8ca3e920d6fbf14a6cbf50bb9ca

ENV NODE_ENV "development"
ENV PORT 2000

USER node
WORKDIR /home/node/app
COPY --chown=node:node package.json ./
COPY --chown=node:node yarn.lock ./

RUN yarn install

COPY --chown=node:node dev-app.js ./

EXPOSE $PORT

CMD ["yarn", "dummy-server"]
