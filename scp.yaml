scp: "0.1"
system:
  urn: "urn:scp:govuk-one-login:authentication-frontend"
  name: "Authentication Frontend"
  description: "Node.js/TypeScript Express web application serving the user-facing interface for GOV.UK One Login authentication flows"
ownership:
  team: "authentication"
  contact:
    slack: "#di-authentication"

depends:
  - system: "urn:scp:govuk-one-login:authentication-internal-api"
    capability: "authentication-internal-api"
    type: rest
    criticality: required
    failure_mode: fail-fast
    timeout_ms: 1000

  - system: "urn:scp:govuk-one-login:smartagent-api"
    capability: "contact-centre-ingestion"
    type: rest
    criticality: optional
    failure_mode: fallback

  - system: "urn:scp:govuk-one-login:ipv-service"
    capability: "identity-verification"
    type: rest
    criticality: degraded
    failure_mode: fallback

  - system: "urn:scp:aws:elasticache"
    capability: "short-term-storage"
    type: data
    criticality: required
    failure_mode: fail-fast

  - system: "urn:scp:aws:kms"
    capability: "encryption-and-signatures"
    type: rest
    criticality: required
    failure_mode: fail-fast

  - system: "urn:scp:aws:ssm"
    capability: "parameter-store"
    type: rest
    criticality: required
    failure_mode: fail-fast

  - system: "urn:scp:aws:cloudwatch-logs"
    capability: "log-aggregation"
    type: stream
    criticality: optional
    failure_mode: queue-buffer

  - system: "urn:scp:aws:ecs"
    capability: "container-orchestration"
    type: rest
    criticality: required
    failure_mode: fail-fast

  - system: "urn:scp:aws:alb"
    capability: "load-balancing"
    type: rest
    criticality: required
    failure_mode: fail-fast

  - system: "urn:scp:aws:cloudfront"
    capability: "cdn"
    type: rest
    criticality: required
    failure_mode: fail-fast

  - system: "urn:scp:aws:waf"
    capability: "web-application-firewall"
    type: rest
    criticality: required
    failure_mode: fail-fast
